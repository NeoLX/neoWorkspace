<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="../css/bootstrap.min.css" />
		<script type="text/javascript" src="../lib/jquery-1.12.1.min.js"></script>
		<script type="text/javascript" src="../lib/bootstrap.min.js"></script>
		<script type="text/javascript" src="../lib/echarts.min.js"></script>
		<script type="text/javascript">
			var branchList = [{
				id: "010000000",
				parentId: "",
				name: "总行",
			}, {
				id: "020000000",
				parentId: "010000000",
				name: "北京分行",
			}, {
				id: "020000001",
				parentId: "020000000",
				name: "西城区支行",
			}, {
				id: "020000002",
				parentId: "020000000",
				name: "朝阳区支行",
			}, {
				id: "360200000",
				parentId: "010000000",
				name: "广东分行",
			}, {
				id: "360200001",
				parentId: "360200000",
				name: "越秀区支行",
			}, {
				id: "360200002",
				parentId: "360200000",
				name: "天河区支行",
			}, {
				id: "COMP1",
				parentId: "020000001",
				name: "阿里",
			}, {
				id: "COMP2",
				parentId: "020000001",
				name: "腾讯",
			}, {
				id: "COMP3",
				parentId: "020000002",
				name: "百度",
			}, {
				id: "COMP4",
				parentId: "020000002",
				name: "360",
			}, {
				id: "COMP11",
				parentId: "360200001",
				name: "越秀",
			}, {
				id: "COMP12",
				parentId: "360200001",
				name: "华为",
			}, {
				id: "COMP13",
				parentId: "360200002",
				name: "富力",
			}, {
				id: "COMP14",
				parentId: "360200002",
				name: "恒大",
			}];

			var buildBranchList = function(parentId, parentDiv, level) {
				let arr = [];
				for(let i in branchList) {
					let branch = branchList[i];

					if(branch.parentId == parentId) {
						arr.push(branch);
					}
				}

				if(arr.length > 0) {
					if(parentId == "") {
						$('#' + parentDiv).append('<ul class="nav nav-sidebar" id="ul">');
					} else {
						$('#' + parentDiv).append('<ul class="nav nav-pills nav-stacked" id="ul' + parentId + '">');
					}

					for(let i in arr) {
						let branch = arr[i];
						let h = '<li role="presentation"><a href="#div' + branch.id + '" data-toggle="collapse" class="list-group-item">' + branch.name + '</a>' +
							'<div id="div' + branch.id + '" class="collapse" style="padding-left: 1em;">' +
							'</div>' + '</li>';
						$('#ul' + parentId)
							.append(h);

						buildBranchList(branch.id, "div" + branch.id, level + 1);
					}

					$('#' + parentDiv).append('</ul>');
				}
			}

			$(document).ready(function() {
				buildBranchList("", "branchList", 0);
				//				alert($("#branchList").html());
			});
		</script>
	</head>

	<body>
		<nav class="navbar navbar-default">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
			            <span class="sr-only">Toggle navigation</span>
			            <span class="icon-bar"></span>
			            <span class="icon-bar"></span>
			            <span class="icon-bar"></span>
			        </button>
					<a class="navbar-brand" href="#">代发工资报表</a>
				</div>
				<div id="navbar" class="navbar-collapse collapse">
					<ul class="nav navbar-nav navbar-left">
						<li>
							<a href="account-total-view.html" target="chartFrame">资产情况</a>
						</li>
						<li>
							<a href="flow-view.html" target="chartFrame">流向情况</a>
						</li>
					</ul>
				</div>
			</div>
			<div class="container-fluid" style="background-color: #000000; height: 3em;">
					<ul class="nav navbar-nav navbar-left">
						<li>
							<a href="account-total-view.html" target="chartFrame">资产趋势</a>
						</li>
						<li>
							<a href="flow-view.html" target="chartFrame">产品覆盖</a>
						</li>
						<li>
							<a href="flow-view.html" target="chartFrame">客户结构</a>
						</li>
					</ul>
			</div>
		</nav>

		<div class="container-fluid">
			<div class="row">
				<!--<div class="col-sm-3 col-md-3 sidebar" >-->
				<div class="col-sm-3 col-md-3 sidebar">
					<form>
						<input type="text" class="form-control" placeholder="Search...">
					</form>
					<div class="list-group" id="branchList">
					</div>
				</div>
				<!--<div class="col-sm-9 col-sm-offset-3 col-md-9 col-md-offset-3 main">-->
				<div class="col-sm-9 col-md-9 main">
					<div class="panel panel-default" style="width: 100%; height: 600px;">
						<!--<div class="panel-body">-->
						<iframe class="panel-body" name="chartFrame" src="account-total-view.html" style="border-width:0px; width: 100%; height: 100%;"></iframe>
						<!--</div>-->
					</div>
				</div>
			</div>
		</div>
	</body>

</html>