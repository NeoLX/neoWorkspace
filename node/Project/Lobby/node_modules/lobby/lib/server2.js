'use strict'

var fs = require('fs');
var events = require('events');
var pather = require("path");
var util = require('util');
var express = require('express');
var appbase = require('./appBase2.js');
var webapp = require('./webApp.js');

var Server = function(path){

    this._config;

    if(!path
        || !(typeof path == 'string')){
        console.log(`[SERVER_CONFIG_UNAVAILABLE]`);
        return;
    }else{
        if(path){
            
            if(path.charAt(path.length) != '/'){
                path += '/';
            }
        }
        this._config = lobbyUtil.readConfigFile(path + "server.json");

        try{
            this._config = JSON.parse(this._config);
        }catch(e){
            console.log(`[SERVER CONFIG FILE UNAVAILABLE]`);
            return;
        }
    }

    appbase.call(this, this._config.name);
    // this.__proto__.constructor(path);

    // console.log(path);

    

}
util.inherits(Server, appbase);

var s = new Server("1234");